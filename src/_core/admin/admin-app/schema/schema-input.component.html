<div flex="100">
    <h4 class="input-header" ng-if="$ctrl.schemaName">{{ $ctrl.schemaName }}</h4>
</div>

<!--{{ $ctrl.schema }}-->

<!--{{ $ctrl.deepLevel }}-->

<div flex="100" ng-if="$ctrl.schemaKey !== 'options'">
    <md-button class="md-icon-button" aria-label="Delete">
        <md-icon md-font-icon="material-icons">delete</md-icon>
    </md-button>
</div>

<div ng-repeat="(key, value) in $ctrl.schema" ng-switch="$ctrl.inputData(key)['type']" ng-class="$ctrl.inputData(key)['type']">
    <npc-schema-input class="container" layout="row" layout-wrap ng-switch-when="container"
        schema-key="key"
        schema-main-key="$ctrl.schemaMainKey"
        schema-value="value"
        schema-name="''"
        schema-config="$ctrl.schemaConfig"
        deep-level="$ctrl.deepLevel + 1"
        add-item="$ctrl.addSchemaItem(deepLevel, id, key)"></npc-schema-input>

    <npc-schema-input layout="row" layout-wrap ng-switch-when="sub" ng-repeat="schema in value"
        schema-main-key="$ctrl.schemaMainKey"
        schema-value="schema"
        schema-name="schema.name"
        schema-config="$ctrl.schemaConfig"
        deep-level="$ctrl.deepLevel + 1"
        add-item="$ctrl.addSchemaItem(deepLevel, id, key)"></npc-schema-input>

    <npc-schema-input-model ng-switch-default
        input-data="$ctrl.inputData(key)"
        input-model="$ctrl.schema[key]"></npc-schema-input-model>
</div>

<div flex="100" ng-if="$ctrl.schemaKey !== 'options'">
    <md-button class="md-icon-button" aria-label="Add" ng-click="$ctrl.doAddItem()">
        <md-icon md-font-icon="material-icons">add_box</md-icon>
    </md-button>
    <md-button class="md-icon-button" aria-label="Add" ng-if="$ctrl.schema.sub && !$ctrl.schema.sub.length > 0">
        <md-icon md-font-icon="material-icons">library_add</md-icon>
    </md-button>
</div>