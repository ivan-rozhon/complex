<div
  #cxContentModal
  class="uk-modal-container"
  uk-modal="esc-close: false; bg-close: false"
>
  <div class="uk-modal-dialog">
    <button class="uk-modal-close-outside" type="button" uk-close></button>

    <div class="uk-modal-header">
      <h2 class="uk-modal-title">Page content</h2>
    </div>

    <div class="uk-modal-body" uk-overflow-auto>
      <!-- {{ content?.data | json }} -->

      <ng-container
        *ngFor="
          let contentData of content?.data | cxMapToIterable;
          index as index
        "
      >
        <cx-pages-content-list
          [contentValue]="contentData | cxPickItem: 'value'"
          (contentValueChange)="updateContent($event, index)"
          [contentKey]="contentData | cxPickItem: 'key'"
          [contentMetadata]="content?._metadata"
        ></cx-pages-content-list>
      </ng-container>
    </div>

    <div class="uk-modal-footer uk-text-right">
      <button class="uk-button uk-button-default uk-modal-close" type="button">
        Cancel
      </button>
      <button
        class="uk-button uk-button-primary"
        type="button"
        (click)="saveContent(content.id, content?.data)"
      >
        Save
      </button>
    </div>
  </div>
</div>
